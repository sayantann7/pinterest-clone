<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Pinterest Clone</title>
    <link rel="stylesheet" href="/stylesheets/feed.css">
    <link rel="stylesheet" href="/stylesheets/profile.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo"><a href="/feed" style="text-decoration: none; color: inherit">Pinterest</a></div>
            <div class="search">
                <input type="text" placeholder="Search...">
            </div>
            <div class="profile">
                <button class="profile-button" onclick="toggleDropdown(event)">
                    <img src="images/default_profile_pic.jpg" alt="Profile" class="dropdown-profile-img">
                </button>
                <div class="profile-dropdown" id="profileDropdown">
                    <div class="dropdown-header">
                        <img src="images/default_profile_pic.jpg" alt="Profile" class="dropdown-profile-img">
                        <div class="dropdown-profile-info">
                            <span class="profile-name"><%= user.fullname %></span>
                            <span class="profile-email">@<%= user.username %></span>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <a href="/profile" class="dropdown-item">Visit Profile</a>
                    <a href="#" class="dropdown-item">Settings</a>
                    <div class="dropdown-divider"></div>
                    <a href="/logout" class="dropdown-item logout">Log out</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="profile-main">
        <section class="profile-header">
            <img src="images/default_profile_pic.jpg" alt="Profile" class="profile-avatar">
            <h1><%= user.fullname %></h1>
            <p class="profile-username">@<%= user.username %></p>
            <p class="profile-stats">
                <span>128 followers</span> Â· <span>96 following</span>
            </p>
            <button class="edit-profile-btn">Edit Profile</button>
            <button class="share-profile-btn">Share</button>
        </section>

        <section class="profile-tabs">
            <button class="tab active">Created</button>
            <button class="tab">Saved</button>
        </section>

        <section class="pin-container">
            <div class="pin">
                <img src="https://picsum.photos/200/300" alt="Pin">
            </div>
            <div class="pin">
                <img src="https://picsum.photos/200/400" alt="Pin">
            </div>
            <div class="pin">
                <img src="https://picsum.photos/200/250" alt="Pin">
            </div>
            <div class="pin">
                <img src="https://picsum.photos/200/350" alt="Pin">
            </div>
            <div class="pin">
                <img src="https://picsum.photos/200/450" alt="Pin">
            </div>
            <div class="pin">
                <img src="https://picsum.photos/200/280" alt="Pin">
            </div>
        </section>
    </main>

    <script>
        function toggleDropdown(event) {
            event.stopPropagation();
            const dropdown = document.getElementById('profileDropdown');
            dropdown.classList.toggle('show');
        }

        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('profileDropdown');
            if (!event.target.closest('.profile')) {
                dropdown.classList.remove('show');
            }
        });

        // Tab switching functionality
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
            });
        });
    </script>
</body>
</html>